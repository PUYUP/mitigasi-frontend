<ng-container *ngIf="securecode$ | async as securecode">
  <form [formGroup]="formGroup" (ngSubmit)="onSubmit()">
    <ion-item lines="full">
      <ion-icon slot="start" name="key-outline"></ion-icon>
      <ion-label position="stacked">Masukkan kode verifikasi</ion-label>
      <ion-input
        formControlName="passcode"
        placeholder="Mis: AB9809"
      ></ion-input>

      <ion-button
        slot="end"
        mode="ios"
        size="small"
        class="mt-3"
        color="medium"
        (click)="resend()"
        [disabled]="resendTimer > 0"
      >
        Kirim ulang
        {{ resendTimer > 0 ? resendTimer : "" }}
      </ion-button>
    </ion-item>

    <ion-button
      type="submit"
      [disabled]="formGroup.invalid || securecode?.status == 'loading'"
      class="ion-margin"
      expand="block"
      color="warning"
    >
      Verifikasi
    </ion-button>
  </form>
</ng-container>
