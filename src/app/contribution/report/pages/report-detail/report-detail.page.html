<ion-header>
  <ion-toolbar color="dark">
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>

    <ion-title size="small">{{ identifier_label }}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ng-container *ngIf="report$ | async as report">
    <div *ngIf="!report?.data?.result" class="text-center p-4">
      <ion-spinner name="crescent"></ion-spinner>
    </div>

    <ng-container *ngIf="report?.data?.result">
      <ion-item lines="full" color="warning">
        <ion-label>
          Safety Check
          <p>Anda terdampak?</p>
        </ion-label>

        <div class="row w-50" slot="end">
          <div class="col-6 pe-1">
            <ion-button color="dark" expand="full" (click)="onConfirm('102')">
              <ion-text>Tidak</ion-text>
            </ion-button>
          </div>

          <div class="col-6 ps-1">
            <ion-button color="danger" expand="full" (click)="onConfirm('101')">
              <ion-text>Ya</ion-text>
            </ion-button>
          </div>
        </div>
      </ion-item>

      <ion-item lines="full">
        <ion-label>
          {{ report?.data?.result?.comment_count }} Komentar
        </ion-label>

        <ion-buttons slot="end">
          <ion-button
            size="small"
            color="dark"
            [routerLink]="['/Comment', 'Report', report_uuid]"
          >
            <ion-icon slot="start" name="chatbox-ellipses-sharp"></ion-icon>
            <ion-text>Komentari</ion-text>
          </ion-button>
        </ion-buttons>
      </ion-item>

      <!-- FLOOD -->
      <app-flood-reported-detail
        *ngIf="identifier_id == '101'"
        [item]="report?.data?.result"
      ></app-flood-reported-detail>

      <!-- LANDSLIDE -->
      <app-landslide-reported-detail
        *ngIf="identifier_id == '102'"
        [item]="report?.data?.result"
      ></app-landslide-reported-detail>

      <!-- EARTHQUAKE -->
      <app-earthquake-reported-detail
        *ngIf="identifier_id == '108'"
        [item]="report?.data?.result"
      ></app-earthquake-reported-detail>

      <!-- TSUNAMI -->
      <app-tsunami-reported-detail
        *ngIf="identifier_id == '109'"
        [item]="report?.data?.result"
      ></app-tsunami-reported-detail>

      <!-- WIND -->
      <app-wind-reported-detail
        *ngIf="identifier_id == '105'"
        [item]="report?.data?.result"
      ></app-wind-reported-detail>

      <!-- VOLCANO -->
      <app-volcano-reported-detail
        *ngIf="identifier_id == '111'"
        [item]="report?.data?.result"
      ></app-volcano-reported-detail>

      <!-- WILDFIRE -->
      <app-wildfire-reported-detail
        *ngIf="identifier_id == '107'"
        [item]="report?.data?.result"
      ></app-wildfire-reported-detail>

      <!-- DROUGHT -->
      <app-drought-reported-detail
        *ngIf="identifier_id == '106'"
        [item]="report?.data?.result"
      ></app-drought-reported-detail>

      <!-- OTHER -->
      <app-other-reported-detail
        *ngIf="identifier_id == '999'"
        [item]="report?.data?.result"
      ></app-other-reported-detail>
    </ng-container>
  </ng-container>
</ion-content>
